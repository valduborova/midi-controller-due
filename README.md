# Arduino MIDI Controller

Этот код превращает Arduino в MIDI контроллер с 16 кнопками, используя два сдвиговых регистра для управления светодиодами. Каждая кнопка способна отправлять MIDI-сообщения при нажатии и отпускании. Также контроллер постоянно слушает MIDI-сообщения для подтверждения успешности применения команды и включения подсветки.

## Загрузка скетча на плату

1. Откройте этот скетч в Arduino IDE.
2. Произведите загрузку скетча на вашу плату Arduino через Native Port для платы Arduino Due.
3. Подключите Arduino к компьютеру и используйте его в качестве MIDI контроллера в соответствующем программном обеспечении.

## Конфигурация

- Кнопки и светодиоды подключены к указанным в коде пинам ({{52, 44, 48, 46, 42, 40, 38, 36}, {37, 32, 7, 8, 9, 10, 11, 12}}).
- MIDI канал по умолчанию установлен на 1. Допустимое значение от 0 до 15.
- В коде используется библиотека `MIDIUSB`, а также `Bounce2` для антидребезга кнопок.

## Пины сдвигового регистра

- `clockPin`: Пин для тактового сигнала (clock) сдвигового регистра.
- `dataPin`: Пин для входных данных (data) сдвигового регистра.
- `latchPin`: Пин подтверждения данных (latch) сдвигового регистра.

## Функционал

### `void setup()`

Выполняет начальную установку контроллера, настройку пинов ввода/вывода и инициализацию MIDI.

### `void loop()`

Мониторит состояния кнопок, обрабатывает нажатия и отправляет MIDI сообщения. В конце цикла обновляет состояние LED.

### `void updateLEDs()`

Обновляет состояние светодиодов в соответствии с текущим состоянием внутренних переменных `ledStates`.

## Примечание

Код предполагает использование стартовой ноты C2 (MIDI note 36) для первой кнопки и последовательное увеличение номера для каждой следующей кнопки. Номера кнопок и начальную ноту можно настроить в соответствии с требованиями пользователя.

Необходимо убедиться, что все соединения сделаны правильно и что используемый Arduino-компатибельный контроллер поддерживает MIDI по USB. Кроме того, для успешной работы контроллера необходимо установить библиотеку `MIDIUSB`.